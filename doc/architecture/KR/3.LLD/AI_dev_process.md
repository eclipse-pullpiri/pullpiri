## 1. LLD 단위 설정 방법
### 1. LLD로 쪼개기
AI가 이해할 수 있도록 아래 내용을 고려하여 하나의 LLD로 작성할 기능을 정의합니다. 

- (1) 단일 대상 : 예를 들어 하나의 resource 만을 대상으로 하는 기능을 정의합니다.
- (2) 기능 쪼개기 : 수신(input), 조건 및 동작, 발신(output)을 각 한줄로 정의할 수 있도록 기능을 쪼갭니다.
ex) 
```
+-------------------+         +---------------------+         +-------------------+
|   NodeAgent       |  gRPC   |   StateManager      |   put   |       ETCD        |
|-------------------| ------> |---------------------| ------> |-------------------|
```

- **인터페이스:** 외부 인터페이스(gRPC)로부터 수신, 외부 인터페이스(ETCD)로 발신
	- **수신:** NodeAgent 컴포넌트로부터 pod과 container들의 상태 정보를 전달받음
	- **조건:** `<container, state>` 리스트가 model의 특정 state 조건과 일치하면 model의 state를 변경
	- **발신:** ETCD에 `<model, state>` put 요청

### 2. LLD 채우기 

```
## 0. 문서의 목적
이 문서는 ( ) 컴포넌트에 ( 대상 )의 ( 조건 및 동작 )하는 기능을 추가하기 위해 작성되었습니다.
( 상세 설명 )
이 기능은 이 문서에 포함된 조건 및 규칙들을 따라야 합니다.

## 1. StateManager의 기능
- 기능 1 : ( 설명 )
- 기능 2 : ( 설명 )

## 2. ( ) 컴포넌트의 구현 구조
- ( ).rs : ( 설명 )
- ( ).rs : ( 설명 )

## 3. ( 대상 )을 위해 ( ) 컴포넌트에 구현되어야 하는 것
+-------------------+         +---------------------+         +-------------------+
|   (       )       |  gRPC   |   (          )      |   put   |     (    )        |
|-------------------| ------> |---------------------| ------> |-------------------|


- **인터페이스:** 외부/내부 인터페이스( )로부터 수신, 외부/내부 인터페이스( )로 발신
	- **수신:** ( ) 컴포넌트로부터 ( 인풋1 ), ( 인풋2 )을 전달받음
	- **조건:** ( ) 조건과 일치하면 ( 대상 )의 (  )를 변경
	- **발신:** 외부/내부 인터페이스( )로 ( 결과1 ), ( 결과2 )를 return

## 4. 배경정보

## 5. etcd, grpc 등 인터페이스 및 외부 라이브러리 이용 규칙 소개

```

## 2. LLD 기반 구현 과정
### 1. 수정 후 구현 vs 새로 구현 판단하기
- 맨 처음 구현한다면 바로 3번으로 이동합니다. 
- 이미 구현된 코드가 있다면 새로 구현해도 될지, 수정 후 구현해야할지 판단해야 합니다.

PR1. 수정 필요 여부 판단하기
- 기능 구현 시 이미 기 구현된 함수가 있는지 확인 필요
```
아래 가이드 대로 pr을 만들어줘. 

나는 ( A ).rs에 새로운 ( 역할 )함수를 추가하고 싶어.
src에 ( 역할 ) 기능을 수행하는 함수가 있는지 확인해줘.  
```

### 2. 구현 전 수정하기
- 구조체는 여러 위치에서 참조하므로 수정합니다.
- 함수는 새로 구현하는 것이 혼동이 적습니다. 
  - 기 구현된 함수가 새로운 구현 기능을 포함한 여러 기능을 가진 함수라면 새로 구현할 기능과 관련된 내용만을 삭제합니다.
  - 기 구현된 함수가 새로운 구현 기능만을 포함한 단일 기능 함수라면 혼동을 막기 위해 전체 삭제합니다. 
PR2. 수정하기

구현 없이 수정 혹은 삭제만 이루어지는 단계

(1) 함수는 삭제합니다. 
```
아래 가이드 대로 pr을 만들어줘.

목표 : 나는 ( A ).rs에 새로운 (역할)을 수행하는 함수를 추가하고 싶어.
TODO : 그래서 지금의 (동일한 역할을 수행하는) 함수들을 삭제하고 싶어. fn ( B ), fn ( C )를 삭제해줘. 
```
(2) 구조체는 수정합니다.
```
아래 가이드 대로 pr을 만들어줘.

목표 : 기존의 ( D ), ( E ) 구조체의 구성을 ( F ).md 에 명시된 ( D ), ( E ) 구조체의 구성으로 변경하고 싶어. 
TODO : 그래서 지금의 ( D ),( E ) 구조체의 구성을 ( F ).md에 명시된 ( D ), ( E ) 구조체의 구성으로 변경해줘.
```

### 3. 구현하기
PR3. 구현하기

LLD 문서를 기반으로 구현을 수행하는 단계

아래 내용을 채워 LLD 문서를 완성합니다. 
그리고 구현합니다. 
```
아래 가이드 대로 pr을 만들어줘.
G.md 이 문서에 명시된 기능을 ( path )/src/ 여기에 만들어줘.
```

### 4. 추가 코멘트 방법
```
1. 함수의 이동

@copilot
목적 : (  ) 기능은 반드시 ( path )/src/( H ).rs에 구현되어야 해.

TODO : ( path )/src/( I ).rs의 fn ( J ) 함수와 이 함수에서 호출되는 함수를 ( path )/src/( H ).rs로 이동해줘. 



2. 함수의 이동 및 병합

@copilot
목적 : (  ) 기능은 반드시 ( path )/src/( H ).rs에 구현되어야 해.



TODO : ( path )/src/( I ).rs의 fn ( J ) 함수와 이 함수에서 호출되는 함수를 ( path )/src/( H ).rs로 이동하고 fn ( K )함수와 병합해줘.

병합된 함수는 ( 인풋1 ), ( 인풋2 )를 받아서 (1) ( 기능1 )을 수행하고 (2) ( 기능2 )를 수행해서 ( 결과1 ), ( 결과2 )를 return 해야해.

이 작업을 수행하고 테스트해줘. 
```







